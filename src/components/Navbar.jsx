import React, { useContext, useState } from "react";
import { FaRegUserCircle } from "react-icons/fa";
import { GiHamburgerMenu } from "react-icons/gi";
import { useNavigate } from "react-router";
import { UserContext } from "../App";
import { Link } from "react-router-dom";

const Navbar = () => {
  const [showNavigation, setShowNavigation] = useState(false);
  const { setAccessToken } = useContext(UserContext);
  const navigate = useNavigate();
  const handleLogout = () => {
    localStorage.clear();
    setAccessToken(null);
    navigate("/login");
  };
  return (
    <div>
      <div className="flex-row-reverse items-center hidden gap-10 p-8 mr-10 list-none lg:flex text-secondary">
        <FaRegUserCircle size="2rem" />
        <li onClick={handleLogout}>Logout</li>
        <li>Plans</li>
        <li>Support</li>
        <li>How to Use</li>
        <li className="">FAQs</li>
      </div>
      <div className="flex justify-between p-4 lg:hidden">
        <Link to="/" className="cursor-pointer">
          <div>
            <svg
              width="120"
              height="46"
              viewBox="0 0 176 46"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M59.1055 27.3734C59.1055 23.7966 58.1825 21.1948 56.3364 19.568C54.4903 17.9411 51.802 17.1277 48.2714 17.1277H44.2562V37.4979H48.7733C52.1424 37.4979 54.7038 36.6498 56.4575 34.9538C58.2228 33.2462 59.1055 30.7194 59.1055 27.3734ZM62.3073 27.2868C62.3073 31.452 61.1246 34.6307 58.7594 36.8229C56.3941 39.0151 53.0942 40.1112 48.8598 40.1112H41.2621V14.5144H48.3579C50.4924 14.5144 52.402 14.7682 54.0865 15.2759C55.771 15.772 57.2306 16.5335 58.4651 17.5604C59.7112 18.5757 60.6631 19.9083 61.3208 21.5583C61.9784 23.1966 62.3073 25.1062 62.3073 27.2868ZM75.2198 27.452C74.5306 26.6213 73.5819 26.2059 72.3736 26.2059C71.1652 26.2059 70.1787 26.6355 69.4141 27.4945C68.6494 28.3441 68.201 29.51 68.0689 30.9921H76.2676C76.2676 29.4533 75.9183 28.2733 75.2198 27.452ZM72.8408 40.4369C70.5847 40.4369 68.8052 39.7194 67.5025 38.2845C66.2092 36.8497 65.5625 34.8861 65.5625 32.3939C65.5625 29.9867 66.1903 28.0373 67.4458 26.5458C68.7014 25.0448 70.3534 24.2802 72.4019 24.2518C74.3277 24.2518 75.8522 24.9126 76.9756 26.2343C78.1084 27.5464 78.6748 29.3023 78.6748 31.5018C78.6748 31.6151 78.6701 31.8228 78.6607 32.1249C78.6607 32.427 78.6607 32.6441 78.6607 32.7762H67.9981C68.0264 34.5415 68.4795 35.9198 69.3574 36.911C70.2448 37.8928 71.4343 38.3837 72.9258 38.3837C74.5684 38.3837 76.2157 37.9494 77.8677 37.0809L78.2359 38.9926C76.6594 39.9554 74.861 40.4369 72.8408 40.4369ZM88.5303 40.4369C86.2458 40.4369 84.4569 39.6958 83.1636 38.2137C81.8797 36.7316 81.2378 34.7917 81.2378 32.3939C81.2473 29.9773 81.9033 28.0184 83.2061 26.5175C84.5183 25.007 86.3119 24.2518 88.5869 24.2518C89.3893 24.2518 90.1634 24.351 90.9092 24.5492C91.6644 24.7474 92.2591 25.007 92.6934 25.328L92.042 27.1688C90.9375 26.5741 89.7717 26.2767 88.5445 26.2767C87.0435 26.2767 85.854 26.8243 84.9761 27.9193C84.1076 29.0144 83.6734 30.5106 83.6734 32.4081C83.6734 34.2583 84.1029 35.7263 84.9619 36.8119C85.8304 37.8881 87.0293 38.4261 88.5586 38.4261C89.7764 38.4261 91.0225 38.0957 92.2969 37.4349L92.5943 39.3182C91.5653 40.064 90.2106 40.4369 88.5303 40.4369ZM102.634 24.4359C103.059 24.4359 103.446 24.4642 103.795 24.5209L103.71 26.7015C103.276 26.626 102.898 26.5883 102.577 26.5883C101.256 26.5883 100.179 27.0508 99.3487 27.976C98.5274 28.8916 98.1167 30.0292 98.1167 31.3885V40.1112H95.752C95.7425 30.5767 95.7378 25.3988 95.7378 24.5775H97.7061L97.9326 27.3671C98.4707 26.4891 99.1551 25.7811 99.9859 25.243C100.817 24.705 101.699 24.4359 102.634 24.4359ZM110.436 38.5253C111.559 38.5253 112.546 38.2185 113.396 37.6049C114.255 36.9818 114.807 36.1464 115.052 35.0985V32.4789C115.005 32.4789 114.717 32.5025 114.189 32.5497C113.669 32.5969 113.329 32.6252 113.169 32.6346C111.12 32.814 109.69 33.1491 108.878 33.64C108.076 34.1309 107.675 34.9191 107.675 36.0048C107.675 36.8355 107.92 37.4633 108.411 37.8881C108.902 38.3129 109.577 38.5253 110.436 38.5253ZM115.576 40.1112C115.435 39.507 115.298 38.8557 115.166 38.1571C114.307 39.0162 113.499 39.6109 112.744 39.9413C111.989 40.2717 111.102 40.4369 110.082 40.4369C108.628 40.4369 107.458 40.0593 106.57 39.3041C105.692 38.5394 105.253 37.4444 105.253 36.0189C105.253 34.433 105.853 33.2577 107.052 32.493C108.26 31.7284 109.997 31.2517 112.263 31.0629C112.574 31.0345 113.042 30.9968 113.665 30.9496C114.297 30.8929 114.769 30.8505 115.081 30.8221V29.4486C115.081 28.3536 114.826 27.5417 114.316 27.0131C113.806 26.4844 113.004 26.2201 111.909 26.2201C110.379 26.2201 108.836 26.5977 107.278 27.3529C107.231 27.2396 107.108 26.9139 106.91 26.3759C106.712 25.8283 106.608 25.5451 106.599 25.5262C107.288 25.1392 108.104 24.8324 109.048 24.6058C110.002 24.3698 110.969 24.2518 111.951 24.2518C113.886 24.2518 115.279 24.6766 116.128 25.5262C116.987 26.3664 117.417 27.8013 117.417 29.8309V40.1112H115.576ZM128.065 40.4369C125.781 40.4369 123.992 39.6958 122.699 38.2137C121.415 36.7316 120.773 34.7917 120.773 32.3939C120.782 29.9773 121.439 28.0184 122.741 26.5175C124.053 25.007 125.847 24.2518 128.122 24.2518C128.925 24.2518 129.699 24.351 130.444 24.5492C131.2 24.7474 131.794 25.007 132.229 25.328L131.577 27.1688C130.473 26.5741 129.307 26.2767 128.08 26.2767C126.579 26.2767 125.389 26.8243 124.511 27.9193C123.643 29.0144 123.209 30.5106 123.209 32.4081C123.209 34.2583 123.638 35.7263 124.497 36.8119C125.366 37.8881 126.564 38.4261 128.094 38.4261C129.312 38.4261 130.558 38.0957 131.832 37.4349L132.129 39.3182C131.1 40.064 129.746 40.4369 128.065 40.4369ZM135.23 40.1112V18.5453L137.581 18.4037V29.6893V31.6718C137.638 31.6151 137.723 31.5207 137.836 31.3885C137.949 31.2564 138.039 31.1573 138.105 31.0912C138.926 30.1944 141.05 28.0232 144.477 24.5775H147.479L141.022 31.1195L147.932 40.1112H144.987L139.309 32.4647L137.581 33.9515V40.1112H135.23ZM154.134 40.3944C152.624 40.3944 151.552 39.9885 150.92 39.1766C150.297 38.3648 149.985 36.9535 149.985 34.9427V18.5453L152.336 18.4037V34.0082C152.336 34.6501 152.341 35.1646 152.35 35.5516C152.369 35.9387 152.407 36.321 152.463 36.6986C152.52 37.0668 152.596 37.3453 152.69 37.5341C152.784 37.7229 152.921 37.8975 153.101 38.058C153.28 38.209 153.492 38.3129 153.738 38.3695C153.993 38.4167 154.304 38.4403 154.672 38.4403C154.974 38.4403 155.569 38.3837 156.457 38.2704L156.584 40.1537C155.612 40.3142 154.795 40.3944 154.134 40.3944ZM166.978 27.452C166.288 26.6213 165.34 26.2059 164.131 26.2059C162.923 26.2059 161.937 26.6355 161.172 27.4945C160.407 28.3441 159.959 29.51 159.827 30.9921H168.025C168.025 29.4533 167.676 28.2733 166.978 27.452ZM164.599 40.4369C162.342 40.4369 160.563 39.7194 159.26 38.2845C157.967 36.8497 157.32 34.8861 157.32 32.3939C157.32 29.9867 157.948 28.0373 159.204 26.5458C160.459 25.0448 162.111 24.2802 164.16 24.2518C166.085 24.2518 167.61 24.9126 168.733 26.2343C169.866 27.5464 170.433 29.3023 170.433 31.5018C170.433 31.6151 170.428 31.8228 170.418 32.1249C170.418 32.427 170.418 32.6441 170.418 32.7762H159.756C159.784 34.5415 160.237 35.9198 161.115 36.911C162.003 37.8928 163.192 38.3837 164.684 38.3837C166.326 38.3837 167.974 37.9494 169.626 37.0809L169.994 38.9926C168.417 39.9554 166.619 40.4369 164.599 40.4369Z"
                fill="#F4F4F4"
              />
              <g filter="url(#filter0_di_125_251)">
                <path
                  d="M24.4017 25.8388C24.4017 27.2362 23.5238 28.6893 21.7127 29.8599C19.9155 31.0215 17.3499 31.7851 14.445 31.7851C11.5402 31.7851 8.97455 31.0215 7.17742 29.8599C5.36633 28.6893 4.48834 27.2362 4.48834 25.8388C4.48834 24.4413 5.36633 22.9882 7.17742 21.8176C8.97455 20.656 11.5402 19.8924 14.445 19.8924C17.3499 19.8924 19.9155 20.656 21.7127 21.8176C23.5238 22.9882 24.4017 24.4413 24.4017 25.8388Z"
                  stroke="#F4F4F4"
                  strokeWidth="2.76575"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M5.15116 29.8296C4.60966 30.2484 4.11191 30.7031 3.66391 31.1888C4.17113 31.9415 4.79955 32.6346 5.52837 33.2515C4.98385 33.9533 4.76575 34.6397 4.76575 35.2302C4.76575 36.2344 5.39643 37.5156 7.19043 38.6788C8.95744 39.8244 11.5638 40.6234 14.5842 40.6234C17.6045 40.6234 20.2109 39.8244 21.9779 38.6788C23.7719 37.5156 24.4026 36.2344 24.4026 35.2302C24.4026 34.5841 24.1415 33.8234 23.4775 33.0531C24.1682 32.4352 24.761 31.7463 25.2367 31.0019C24.5317 30.2711 23.7121 29.6145 22.7993 29.0494C25.4748 30.5456 27.1683 32.7597 27.1683 35.2302C27.1683 39.7363 21.5342 43.3892 14.5842 43.3892C7.63412 43.3892 2 39.7363 2 35.2302C2 33.1592 3.19013 31.2684 5.15116 29.8296ZM21.5323 31.5103C19.7338 30.3271 17.3534 29.5604 14.5385 29.5604C11.317 29.5604 8.66455 30.5646 6.80224 32.048C6.92511 31.9586 7.05442 31.8698 7.19043 31.7816C8.95744 30.636 11.5638 29.837 14.5842 29.837C17.3599 29.837 19.786 30.5118 21.5323 31.5103Z"
                  fill="#F4F4F4"
                />
                <path
                  d="M24.4031 25.562V1.5"
                  stroke="#F4F4F4"
                  strokeWidth="2.76575"
                  strokeLinejoin="round"
                />
              </g>
              <defs>
                <filter
                  id="filter0_di_125_251"
                  x="0.8348"
                  y="0.584788"
                  width="27.4986"
                  height="44.4357"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="0.46608" />
                  <feGaussianBlur stdDeviation="0.5826" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.12 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_125_251"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_125_251"
                    result="shape"
                  />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="-0.915212" />
                  <feGaussianBlur stdDeviation="0.915212" />
                  <feComposite
                    in2="hardAlpha"
                    operator="arithmetic"
                    k2="-1"
                    k3="1"
                  />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="shape"
                    result="effect2_innerShadow_125_251"
                  />
                </filter>
              </defs>
            </svg>
          </div>
        </Link>
        <div>
          <GiHamburgerMenu
            className=""
            onClick={() => setShowNavigation(!showNavigation)}
            size="2rem"
          />
          {showNavigation && (
            <div className="absolute right-0 p-2 list-none rounded bg-grey">
              <li
                onClick={() => setShowNavigation(false)}
                className="p-1 hover:bg-dark-green"
              >
                FAQs
              </li>
              <li
                onClick={() => setShowNavigation(false)}
                className="p-1 hover:bg-dark-green"
              >
                How to Use
              </li>
              <li
                onClick={() => setShowNavigation(false)}
                className="p-1 hover:bg-dark-green"
              >
                Support
              </li>
              <li
                onClick={() => setShowNavigation(false)}
                className="p-1 hover:bg-dark-green"
              >
                Plans
              </li>
              <li className="p-1 hover:bg-dark-green" onClick={handleLogout}>
                Logout
              </li>
              <FaRegUserCircle
                onClick={() => setShowNavigation(false)}
                size="2rem"
              />
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default Navbar;
